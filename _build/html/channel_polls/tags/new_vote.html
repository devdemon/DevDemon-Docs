
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>New Vote Tag &mdash; DevDemon Addons 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/common.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="DevDemon Addons 1.0.0 documentation" href="../../index.html" />
    <link rel="up" title="Template Tags" href="index.html" />
    <link rel="next" title="Display Poll Tag" href="poll.html" />
    <link rel="prev" title="Template Tags" href="index.html" /> 
  </head>
  <body>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-20537487-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
		
		
</script>
		<div id="brand">
			<p><a href="http://www.devdemon.com/"><img src="../../_static/assets/img/docu_devdemon_logo.png" alt="DevDemon"></a> <!-- DevDemon Addons 1.0.0 documentation --></p>
		</div>

	<div id="header">

		<ul>
				<li><a href="../../index.html">Home</a>&nbsp;&nbsp; &raquo;</li>
				<li><a href="../index.html">Channel Polls</a>&nbsp;&nbsp; &raquo;</li>
				<li><a href="index.html"accesskey="U">Template Tags</a>&nbsp;&nbsp; &raquo;</li>

			<li><strong>New Vote Tag</strong></li>
		</ul>
	</div>
	<div class="section" id="content">
		<div class="section" id="new-vote-tag">
<h1>New Vote Tag<a class="headerlink" href="#new-vote-tag" title="Permalink to this headline">¶</a></h1>
<div class="highlight-ci"><pre>{exp:channel_polls:new_vote}
    &lt;!-- Template Code --&gt;
{/exp:channel_polls:new_vote}</pre>
</div>
<p>This template tag renders the form to submit a new vote</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#parameters" id="id1">Parameters</a><ul>
<li><a class="reference internal" href="#entry-id" id="id2">entry_id=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#url-title" id="id3">url_title=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#return" id="id4">return=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#prefix" id="id5">prefix=&#8221;&#8220;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#variables" id="id6">Variables</a><ul>
<li><a class="reference internal" href="#poll-total-votes" id="id7">{poll:total_votes}</a></li>
<li><a class="reference internal" href="#poll-end-date" id="id8">{poll:end_date}</a></li>
</ul>
</li>
<li><a class="reference internal" href="#variable-pairs" id="id9">Variable Pairs</a><ul>
<li><a class="reference internal" href="#poll-answers-poll-answers" id="id10">{poll:answers} {/poll:answers}</a><ul>
<li><a class="reference internal" href="#poll-form-name" id="id11">{poll:form_name}</a></li>
<li><a class="reference internal" href="#poll-form-value" id="id12">{poll:form_value}</a></li>
<li><a class="reference internal" href="#poll-answer" id="id13">{poll:answer}</a></li>
<li><a class="reference internal" href="#poll-votes" id="id14">{poll:votes}</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#conditionals" id="id15">Conditionals</a><ul>
<li><a class="reference internal" href="#if-poll-already-voted" id="id16">{if poll:already_voted}</a></li>
<li><a class="reference internal" href="#if-poll-not-voted" id="id17">{if poll:not_voted}</a></li>
<li><a class="reference internal" href="#if-poll-closed" id="id18">{if poll:closed}</a></li>
<li><a class="reference internal" href="#if-poll-no-access" id="id19">{if poll:no_access}</a></li>
<li><a class="reference internal" href="#if-poll-no-poll" id="id20">{if poll:no_poll}</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example" id="id21">Example</a></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id1">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="entry-id">
<h3><a class="toc-backref" href="#id2">entry_id=&#8221;&#8220;</a><a class="headerlink" href="#entry-id" title="Permalink to this headline">¶</a></h3>
<p>Entry ID of an Channel Entry. Use this parameter to specify from which entry you want to pull the poll from</p>
</div>
<div class="section" id="url-title">
<h3><a class="toc-backref" href="#id3">url_title=&#8221;&#8220;</a><a class="headerlink" href="#url-title" title="Permalink to this headline">¶</a></h3>
<p>Same as entry_id=&#8221;&#8221; but now it with the entry&#8217;s url_title.</p>
</div>
<div class="section" id="return">
<h3><a class="toc-backref" href="#id4">return=&#8221;&#8220;</a><a class="headerlink" href="#return" title="Permalink to this headline">¶</a></h3>
<p>This parameter allows you to define where the user will be returned after submitting a vote. The parameter can be defined in two ways:</p>
<ul class="simple">
<li>Use the standard Template_Group/Template syntax to specify where to return the user. For instance, if you want the user to be returned to the &#8220;local&#8221; Template in the &#8220;news&#8221; Template Group, you would use: return=&#8221;news/local&#8221;</li>
<li>Use a full URL. For example: return=&#8221;<a class="reference external" href="http://example.com/return.html">http://example.com/return.html</a>&#8220;</li>
</ul>
<p>If this parameter is not defined, they will be returned to the form page.</p>
</div>
<div class="section" id="prefix">
<h3><a class="toc-backref" href="#id5">prefix=&#8221;&#8220;</a><a class="headerlink" href="#prefix" title="Permalink to this headline">¶</a></h3>
<p>This parameter allows you to change the default variable prefix used. This is especially useful when you are nesting tags to avoid variable collisions.</p>
<p><strong>Default:</strong> prefix=&#8221;poll&#8221;</p>
<p>For example the variable <cite>{poll:end_date}</cite>, if you use prefix=&#8221;cp&#8221; the variable will now be {cp:end_date}</p>
</div>
</div>
<div class="section" id="variables">
<h2><a class="toc-backref" href="#id6">Variables</a><a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="poll-total-votes">
<h3><a class="toc-backref" href="#id7">{poll:total_votes}</a><a class="headerlink" href="#poll-total-votes" title="Permalink to this headline">¶</a></h3>
<p>Total votes casts already</p>
</div>
<div class="section" id="poll-end-date">
<h3><a class="toc-backref" href="#id8">{poll:end_date}</a><a class="headerlink" href="#poll-end-date" title="Permalink to this headline">¶</a></h3>
<p>The end dat of this poll.
For date variable info see: <a class="reference external" href="http://expressionengine.com/user_guide/templates/date_variable_formatting.html">http://expressionengine.com/user_guide/templates/date_variable_formatting.html</a></p>
</div>
</div>
<div class="section" id="variable-pairs">
<h2><a class="toc-backref" href="#id9">Variable Pairs</a><a class="headerlink" href="#variable-pairs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="poll-answers-poll-answers">
<h3><a class="toc-backref" href="#id10">{poll:answers} {/poll:answers}</a><a class="headerlink" href="#poll-answers-poll-answers" title="Permalink to this headline">¶</a></h3>
<p>Lists all answers for this poll</p>
<p>Here is a list of available variables WITHIN this variable pair</p>
<div class="section" id="poll-form-name">
<h4><a class="toc-backref" href="#id11">{poll:form_name}</a><a class="headerlink" href="#poll-form-name" title="Permalink to this headline">¶</a></h4>
<p>The form input name</p>
</div>
<div class="section" id="poll-form-value">
<h4><a class="toc-backref" href="#id12">{poll:form_value}</a><a class="headerlink" href="#poll-form-value" title="Permalink to this headline">¶</a></h4>
<p>The form input value</p>
</div>
<div class="section" id="poll-answer">
<h4><a class="toc-backref" href="#id13">{poll:answer}</a><a class="headerlink" href="#poll-answer" title="Permalink to this headline">¶</a></h4>
<p>The answer</p>
</div>
<div class="section" id="poll-votes">
<h4><a class="toc-backref" href="#id14">{poll:votes}</a><a class="headerlink" href="#poll-votes" title="Permalink to this headline">¶</a></h4>
<p>Total votes this answer already has</p>
</div>
</div>
</div>
<div class="section" id="conditionals">
<h2><a class="toc-backref" href="#id15">Conditionals</a><a class="headerlink" href="#conditionals" title="Permalink to this headline">¶</a></h2>
<div class="section" id="if-poll-already-voted">
<h3><a class="toc-backref" href="#id16">{if poll:already_voted}</a><a class="headerlink" href="#if-poll-already-voted" title="Permalink to this headline">¶</a></h3>
<p>This tag will conditionally display the code inside the tag if the user has already voted in this poll.</p>
</div>
<div class="section" id="if-poll-not-voted">
<h3><a class="toc-backref" href="#id17">{if poll:not_voted}</a><a class="headerlink" href="#if-poll-not-voted" title="Permalink to this headline">¶</a></h3>
<p>This tag will conditionally display the code inside the tag if the user has not yet voted in this poll.</p>
</div>
<div class="section" id="if-poll-closed">
<h3><a class="toc-backref" href="#id18">{if poll:closed}</a><a class="headerlink" href="#if-poll-closed" title="Permalink to this headline">¶</a></h3>
<p>This tag will conditionally display the code inside the tag if the poll has closed.
The poll can be closed by reaching it&#8217;s specified end date or by closing it manually in the poll options.</p>
</div>
<div class="section" id="if-poll-no-access">
<h3><a class="toc-backref" href="#id19">{if poll:no_access}</a><a class="headerlink" href="#if-poll-no-access" title="Permalink to this headline">¶</a></h3>
<p>This tag will conditionally display the code inside the tag if the user has no access to view the poll.
This can happen if the user is part of a member group that cannot vote.</p>
</div>
<div class="section" id="if-poll-no-poll">
<h3><a class="toc-backref" href="#id20">{if poll:no_poll}</a><a class="headerlink" href="#if-poll-no-poll" title="Permalink to this headline">¶</a></h3>
<p>This tag will conditionally display the code inside the tag if no poll has been found</p>
</div>
</div>
<div class="section" id="example">
<h2><a class="toc-backref" href="#id21">Example</a><a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-ci"><pre>{exp:channel:entries channel="default"}
        {exp:channel_polls:new_vote entry_id="{entry_id}"}

        &lt;ul&gt;
        {poll:answers}
            &lt;li&gt;&lt;input type="radio" name="{poll:form_name}" value="{poll:form_value}"&gt; &amp;nbsp; {poll:answer}&lt;/li&gt;
        {/poll:answers}
        &lt;/ul&gt;

        {if poll:closed}&lt;h4&gt;POLL CLOSED&lt;/h4&gt;{/if}
        {if poll:no_access}&lt;h4&gt;YOU HAVE NO ACCESS&lt;/h4&gt;{/if}
        {if poll:already_voted}&lt;h4&gt;ALREADY VOTED&lt;/h4&gt;{/if}
        {if poll:not_voted}&lt;h4&gt;NOT VOTED YET&lt;/h4&gt;{/if}

        &lt;input name="submit" value="VOTE" type="submit"&gt;

        {/exp:channel_polls:new_vote}
{/exp:channel:entries}</pre>
</div>
</div>
</div>

	</div>
	<div id="footer">
		<p class="top">
			<span class="prev">Previous Topic: <a href="index.html">Template Tags</a></span>
			<span class="next">Next Topic: <a href="poll.html">Display Poll Tag</a></span>
			<a href="#header" title="Return to top">Return to top</a>
		</p>
		<p>
			<a href="../../index.html">DevDemon Addons 1.0.0 documentation</a>
			 &middot; Copyright &copy; 2012, DevDemon
		</p>
	</div><!-- /#footer -->
  </body>
</html>