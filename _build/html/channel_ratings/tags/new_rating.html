
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RATING: New Rating &mdash; DevDemon Addons 1.0.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/common.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="DevDemon Addons 1.0.0 documentation" href="../../index.html" />
    <link rel="up" title="Template Tags" href="index.html" />
    <link rel="next" title="RATING: Comment With Rating" href="new_rating_review.html" />
    <link rel="prev" title="LIKE: New Like" href="new_like.html" /> 
  </head>
  <body>
		<div id="brand">
			<p><a href="http://www.devdemon.com/"><img src="../../_static/assets/img/docs_devdemon_logo.png" alt="DevDemon"></a> <!-- DevDemon Addons 1.0.0 documentation --></p>
		</div>

	<div id="header">

		<ul>
				<li><a href="../../index.html">Home</a>&nbsp;&nbsp; &raquo;</li>
				<li><a href="../index.html">Channel Ratings</a>&nbsp;&nbsp; &raquo;</li>
				<li><a href="index.html"accesskey="U">Template Tags</a>&nbsp;&nbsp; &raquo;</li>

			<li><strong>RATING: New Rating</strong></li>
		</ul>
	</div>
	<div class="section" id="content">
		<div class="section" id="rating-new-rating">
<h1>RATING: New Rating<a class="headerlink" href="#rating-new-rating" title="Permalink to this headline">¶</a></h1>
<div class="highlight-ci"><pre>{exp:channel_ratings:new_rating}
    &lt;!-- Template Code --&gt;
{/exp:channel_ratings:new_rating}</pre>
</div>
<p>This tag generates a form so you can submit ratings</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#parameters" id="id1">Parameters</a><ul>
<li><a class="reference internal" href="#entry-id" id="id2">entry_id=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#url-title" id="id3">url_title=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#comment-id" id="id4">comment_id=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#member-id" id="id5">member_id=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#ci-id" id="id6">ci_id=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#cf-id" id="id7">cf_id=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#cv-id" id="id8">cv_id=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#br-id" id="id9">br_id=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#collection" id="id10">collection=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#min-value" id="id11">min_value=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#max-value" id="id12">max_value=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#allow-guests" id="id13">allow_guests=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#allow-multiple" id="id14">allow_multiple=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#captcha" id="id15">captcha=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#return" id="id16">return=&#8221;&#8220;</a></li>
<li><a class="reference internal" href="#prefix" id="id17">prefix=&#8221;&#8220;</a></li>
</ul>
</li>
<li><a class="reference internal" href="#variables" id="id18">Variables</a><ul>
<li><a class="reference internal" href="#rating-captcha" id="id19">{rating:captcha}</a></li>
</ul>
</li>
<li><a class="reference internal" href="#variable-pairs" id="id20">Variable Pairs</a><ul>
<li><a class="reference internal" href="#rating-fields-rating-fields" id="id21">{rating:fields} {/rating:fields}</a><ul>
<li><a class="reference internal" href="#rating-field-title" id="id22">{rating:field_title}</a></li>
<li><a class="reference internal" href="#rating-form-name" id="id23">{rating:form_name}</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#conditionals" id="id24">Conditionals</a><ul>
<li><a class="reference internal" href="#if-rating-no-access" id="id25">{if rating:no_access}</a></li>
<li><a class="reference internal" href="#if-rating-already-rated" id="id26">{if rating:already_rated}</a></li>
<li><a class="reference internal" href="#if-rating-not-rated" id="id27">{if rating:not_rated}</a></li>
</ul>
</li>
<li><a class="reference internal" href="#example" id="id28">Example</a></li>
</ul>
</div>
<div class="section" id="parameters">
<h2><a class="toc-backref" href="#id1">Parameters</a><a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<div class="section" id="entry-id">
<h3><a class="toc-backref" href="#id2">entry_id=&#8221;&#8220;</a><a class="headerlink" href="#entry-id" title="Permalink to this headline">¶</a></h3>
<p>For Channel Entries</p>
</div>
<div class="section" id="url-title">
<h3><a class="toc-backref" href="#id3">url_title=&#8221;&#8220;</a><a class="headerlink" href="#url-title" title="Permalink to this headline">¶</a></h3>
<p>For Channel Entries</p>
</div>
<div class="section" id="comment-id">
<h3><a class="toc-backref" href="#id4">comment_id=&#8221;&#8220;</a><a class="headerlink" href="#comment-id" title="Permalink to this headline">¶</a></h3>
<p>For Individual Comments</p>
</div>
<div class="section" id="member-id">
<h3><a class="toc-backref" href="#id5">member_id=&#8221;&#8220;</a><a class="headerlink" href="#member-id" title="Permalink to this headline">¶</a></h3>
<p>For Site Members</p>
</div>
<div class="section" id="ci-id">
<h3><a class="toc-backref" href="#id6">ci_id=&#8221;&#8220;</a><a class="headerlink" href="#ci-id" title="Permalink to this headline">¶</a></h3>
<p>For Channel Images</p>
</div>
<div class="section" id="cf-id">
<h3><a class="toc-backref" href="#id7">cf_id=&#8221;&#8220;</a><a class="headerlink" href="#cf-id" title="Permalink to this headline">¶</a></h3>
<p>For Channel Files</p>
</div>
<div class="section" id="cv-id">
<h3><a class="toc-backref" href="#id8">cv_id=&#8221;&#8220;</a><a class="headerlink" href="#cv-id" title="Permalink to this headline">¶</a></h3>
<p>For Channel Videos</p>
</div>
<div class="section" id="br-id">
<h3><a class="toc-backref" href="#id9">br_id=&#8221;&#8220;</a><a class="headerlink" href="#br-id" title="Permalink to this headline">¶</a></h3>
<p>For BrilliantRetail Products</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">You MUST use one of the above parameters.</p>
</div>
</div>
<div class="section" id="collection">
<h3><a class="toc-backref" href="#id10">collection=&#8221;&#8220;</a><a class="headerlink" href="#collection" title="Permalink to this headline">¶</a></h3>
<p>A specific ratign collection</p>
<p><strong>Default:</strong> collection=&#8221;default&#8221;</p>
</div>
<div class="section" id="min-value">
<h3><a class="toc-backref" href="#id11">min_value=&#8221;&#8220;</a><a class="headerlink" href="#min-value" title="Permalink to this headline">¶</a></h3>
<p>This parameter is used to force the user to have to submit a value equal to or higher than the specified value.</p>
<p><strong>Default:</strong> min_value=&#8221;1&#8221;</p>
</div>
<div class="section" id="max-value">
<h3><a class="toc-backref" href="#id12">max_value=&#8221;&#8220;</a><a class="headerlink" href="#max-value" title="Permalink to this headline">¶</a></h3>
<p>This parameter is used to force the user to have to submit a value equal to or lower than the specified value.</p>
<p><strong>Default:</strong> max_value=&#8221;5&#8221;</p>
</div>
<div class="section" id="allow-guests">
<h3><a class="toc-backref" href="#id13">allow_guests=&#8221;&#8220;</a><a class="headerlink" href="#allow-guests" title="Permalink to this headline">¶</a></h3>
<p>Allow guest submissions?</p>
<p><strong>Default:</strong> no</p>
</div>
<div class="section" id="allow-multiple">
<h3><a class="toc-backref" href="#id14">allow_multiple=&#8221;&#8220;</a><a class="headerlink" href="#allow-multiple" title="Permalink to this headline">¶</a></h3>
<p>Allow multiple submissions? Lets say you want to allow people to rate an entry multiple times.</p>
<p><strong>Default:</strong> no</p>
</div>
<div class="section" id="captcha">
<h3><a class="toc-backref" href="#id15">captcha=&#8221;&#8220;</a><a class="headerlink" href="#captcha" title="Permalink to this headline">¶</a></h3>
<p>Enable captcha?</p>
<p><strong>Default:</strong> no (if yes, only works with guests)</p>
</div>
<div class="section" id="return">
<h3><a class="toc-backref" href="#id16">return=&#8221;&#8220;</a><a class="headerlink" href="#return" title="Permalink to this headline">¶</a></h3>
<p>This parameter allows you to define where the user will be returned after submitting a rating. The parameter can be defined in two ways:</p>
<ul class="simple">
<li>Use the standard Template_Group/Template syntax to specify where to return the user. For instance, if you want the user to be returned to the &#8220;local&#8221; Template in the &#8220;news&#8221; Template Group, you would use: return=&#8221;news/local&#8221;</li>
<li>Use a full URL. For example: return=&#8221;<a class="reference external" href="http://example.com/return.html">http://example.com/return.html</a>&#8220;</li>
</ul>
<p>If this parameter is not defined, they will be returned to the form page.</p>
</div>
<div class="section" id="prefix">
<h3><a class="toc-backref" href="#id17">prefix=&#8221;&#8220;</a><a class="headerlink" href="#prefix" title="Permalink to this headline">¶</a></h3>
<p>This parameter allows you to change the default variable prefix used. This is especially useful when you are nesting tags to avoid variable collisions.</p>
<p><strong>Default:</strong> prefix=&#8221;rating&#8221;</p>
<p>For example the variable <cite>{rating:count}</cite>, if you use prefix=&#8221;cr&#8221; the variable will now be {cr:count}</p>
</div>
</div>
<div class="section" id="variables">
<h2><a class="toc-backref" href="#id18">Variables</a><a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="rating-captcha">
<h3><a class="toc-backref" href="#id19">{rating:captcha}</a><a class="headerlink" href="#rating-captcha" title="Permalink to this headline">¶</a></h3>
<p>This variable will render the captcha image is captcha in enabled</p>
</div>
</div>
<div class="section" id="variable-pairs">
<h2><a class="toc-backref" href="#id20">Variable Pairs</a><a class="headerlink" href="#variable-pairs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="rating-fields-rating-fields">
<h3><a class="toc-backref" href="#id21">{rating:fields} {/rating:fields}</a><a class="headerlink" href="#rating-fields-rating-fields" title="Permalink to this headline">¶</a></h3>
<p>Loops over all rating fields defined for the collection</p>
<p>Here is a list of available variables WITHIN this variable pair</p>
<div class="section" id="rating-field-title">
<h4><a class="toc-backref" href="#id22">{rating:field_title}</a><a class="headerlink" href="#rating-field-title" title="Permalink to this headline">¶</a></h4>
<p>The rating field title</p>
</div>
<div class="section" id="rating-form-name">
<h4><a class="toc-backref" href="#id23">{rating:form_name}</a><a class="headerlink" href="#rating-form-name" title="Permalink to this headline">¶</a></h4>
<p>The form input name for this field</p>
</div>
</div>
</div>
<div class="section" id="conditionals">
<h2><a class="toc-backref" href="#id24">Conditionals</a><a class="headerlink" href="#conditionals" title="Permalink to this headline">¶</a></h2>
<div class="section" id="if-rating-no-access">
<h3><a class="toc-backref" href="#id25">{if rating:no_access}</a><a class="headerlink" href="#if-rating-no-access" title="Permalink to this headline">¶</a></h3>
<p>This tag will conditionally display the code inside the tag if the user has no access to view the form.
This can happen if the user is banned OR is a guest and gues access is not enabled</p>
</div>
<div class="section" id="if-rating-already-rated">
<h3><a class="toc-backref" href="#id26">{if rating:already_rated}</a><a class="headerlink" href="#if-rating-already-rated" title="Permalink to this headline">¶</a></h3>
<p>This tag will conditionally display the code inside the tag if the user has already rated this item</p>
</div>
<div class="section" id="if-rating-not-rated">
<h3><a class="toc-backref" href="#id27">{if rating:not_rated}</a><a class="headerlink" href="#if-rating-not-rated" title="Permalink to this headline">¶</a></h3>
<p>This tag will conditionally display the code inside the tag if the user has not yet rated this item</p>
</div>
</div>
<div class="section" id="example">
<h2><a class="toc-backref" href="#id28">Example</a><a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-ci"><pre>{exp:channel_ratings:new_rating entry_id="{entry_id}" captcha="yes" max_value="5" return="/channel_rating/new_rating/"}

        {if rating:already_rated} You have already rated this entry{/if}

        {if rating:not_rated}

                {rating:fields}
                        &lt;label&gt;{rating:field_title}&lt;/label&gt;

                        &lt;select name="{rating:form_name}"&gt;
                                &lt;option value="1"&gt;1&lt;/option&gt;
                                &lt;option value="2"&gt;2&lt;/option&gt;
                                &lt;option value="3"&gt;3&lt;/option&gt;
                                &lt;option value="4"&gt;4&lt;/option&gt;
                                &lt;option value="5"&gt;5&lt;/option&gt;
                        &lt;/select&gt;
                {/rating:fields}

                {!-- YOU CAN STILL HARDCODE THE form input name, for example: &lt;select name="rating[default]"&gt; --}

                {if rating:captcha}
                        {rating:captcha}
                        &lt;input name="captcha" type="text"/&gt;
                {/if}

                &lt;input type="submit"&gt;
        {/if}

{/exp:channel_ratings:new_rating}</pre>
</div>
</div>
</div>

	</div>
	<div id="footer">
		<p class="top">
			<span class="prev">Previous Topic: <a href="new_like.html">LIKE: New Like</a></span>
			<span class="next">Next Topic: <a href="new_rating_review.html">RATING: Comment With Rating</a></span>
			<a href="#header" title="Return to top">Return to top</a>
		</p>
		<p>
			<a href="../../index.html">DevDemon Addons 1.0.0 documentation</a>
			 &middot; Copyright &copy; 2012, DevDemon
		</p>
	</div><!-- /#footer -->
  </body>
</html>